# ============================================
# CONFIGURACAO DO BACKEND - PESQUISA ELEITORAL
# ============================================
# Copie este arquivo para .env e preencha os valores

# ============================================
# IA (PADRAO: Claude Code CLI / assinatura)
# ============================================
# Por padrao o sistema tenta usar o Claude Code CLI (assinatura) para executar
# entrevistas/pesquisas sem custo por token via API.
#
# Requisitos para o modo claude_code:
# - ter o comando `claude` instalado
# - estar autenticado (claude setup-token + /login)
#
# Fallback/alternativa:
# - se IA_PROVIDER=anthropic_api, ou se o CLI falhar e CLAUDE_API_KEY estiver
#   preenchida, o sistema usa a API da Anthropic.

# Provedor de IA: claude_code | anthropic_api
IA_PROVIDER=claude_code

# Binario do Claude Code (normalmente "claude")
CLAUDE_CODE_BIN=claude

# Modelos (aceita alias: sonnet/opus)
IA_MODELO_ENTREVISTAS=sonnet
IA_MODELO_INSIGHTS=opus

# Evitar probabilidades absolutas (clamp 1..99)
IA_EVITAR_PROB_ABSOLUTA=true
IA_PROB_EPSILON=1.0

# Nao fazer fallback silencioso para API (evitar custo por token).
# Habilite SOMENTE se voce aceitar que, quando o Claude Code nao estiver autenticado,
# o sistema gaste via API automaticamente.
IA_ALLOW_API_FALLBACK=false

# API Claude (opcional; usado somente quando necessario)
# Obtenha sua chave em: https://console.anthropic.com/settings/keys
CLAUDE_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# JWT - Seguranca de autenticacao (gere uma chave aleatoria em producao)
SECRET_KEY=chave-secreta-para-producao-alterar-aqui
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Banco de dados PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/pesquisa_eleitoral

# URLs do sistema
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# Ambiente (development / production)
AMBIENTE=development

# Caminho para dados
CAMINHO_DADOS=./data

# ============================================
# GOOGLE OAUTH2 - Login com Google
# ============================================
# 1. Acesse: https://console.cloud.google.com/
# 2. Crie um projeto ou selecione existente
# 3. APIs e Servicos > Credenciais > Criar credenciais > ID do cliente OAuth
# 4. Tipo: Aplicativo da Web
# 5. Origens autorizadas: http://localhost:3000
# 6. URIs de redirecionamento: http://localhost:3000/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/callback/google

# Email do administrador principal (Professor Igor)
# Este email tera permissoes de admin automaticamente
ADMIN_EMAIL=professorigor@exemplo.com
